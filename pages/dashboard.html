{{pageTitle = "Dashboard"}}
{{dashboardActive = "active"}}

<div class="card">
  <div class="card-header">
    <h1>Welcome, {{user.display_name}}</h1>
  </div>
  
  <p>Manage your Enspira AI assistant for your Twitch channel.</p>
  
  <div class="two-column">
    <div class="card">
      <h2>Character Settings</h2>
      <p>Customize your AI assistant's personality, appearance, and behavior.</p>
      <a href="/web/character" class="btn btn-primary">Edit Character</a>
    </div>
    
    <div class="card">
      <h2>World Settings</h2>
      <p>Set up the environment and context for your AI assistant.</p>
      <a href="/web/world" class="btn btn-primary">Edit World</a>
    </div>
  </div>
  
  <div class="card">
    <h2>Twitch Integration</h2>
    <p>Connect your Twitch streamer and bot accounts.</p>
    
    <div class="two-column">
      <div>
        <h3>Streamer Account</h3>
        {{#if streamerConnected}}
          <p class="alert alert-success">Connected as: {{streamerName}}</p>
        {{else}}
          <p class="alert alert-error">Not connected</p>
        {{/if}}
        <!-- Direct link to connect streamer account -->
        <a href="/api/v1/auth/twitch/connect?type=streamer" class="btn btn-secondary">
          {{#if streamerConnected}}Reconnect Streamer Account{{else}}Connect Streamer Account{{/if}}
        </a>
      </div>
      
      <div>
        <h3>Bot Account</h3>
        {{#if botConnected}}
          <p class="alert alert-success">Connected as: {{botName}}</p>
        {{else}}
          <p class="alert alert-error">Not connected</p>
        {{/if}}
        <!-- Direct link to connect bot account -->
        <a href="/api/v1/auth/twitch/connect?type=bot" class="btn btn-secondary">
          {{#if botConnected}}Reconnect Bot Account{{else}}Connect Bot Account{{/if}}
        </a>
      </div>
    </div>
  </div>
  
  <div class="card">
    <h2>Quick Stats</h2>
    <div class="two-column">
      <div>
        <h3>Chat Messages</h3>
        <p>{{stats.chatMessages}} messages processed</p>
      </div>
      <div>
        <h3>Status</h3>
        <p>{{#if isOnline}}
          <span class="alert alert-success" style="padding: 4px 8px;">Online</span>
        {{else}}
          <span class="alert alert-error" style="padding: 4px 8px;">Offline</span>
        {{/if}}</p>
      </div>
    </div>
  </div>
</div>